import React, { useEffect, useRef, useState } from 'react';

// New, more detailed and illustrative SVG images for the guide
const images = {
    add: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDQwMCAyNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC50eXBlZmFjZSB7IGZvbnQtZmFtaWx5OiBTeXN0ZW0tVWk7IGZvbnQtc2l6ZTogMTZweDsgfQogICAgICAuc21hbGwtdGV4dCB7IGZvbnQtc2l6ZTogMTRweDsgZmlsbDogIzY2NjsgfQogICAgICAuYnRuLXRleHQgeyBmb250LXdlaWdodDogNjAwOyBmaWxsOiB3aGl0ZTsgfQogICAgICAuYXJyb3cgeyBzdHJva2U6ICNlZjQ0NGY7IHN0cm9rZS13aWR0aDogM3B4OyBmaWxsOiBub25lOyBzdHJva2UtbGluZWNhcDogcm91bmQ7IHN0cm9rZS1saW5lam9pbjogcm91bmQ7IH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmYWZhZmEiLz4KICA8dGV4dCB4PSIyMCIgeT0iNDUiIGNsYXNzPSJ0eXBlZmFjZSI+MS4gVHlwZSB5b3VyIGluZ3JlZGllbnQ6PC90ZXh0PgogIDxyZWN0IHg9IjIwIiB5PSI2MCIgd2lkdGg9IjI1MCIgaGVpZ2h0PSI0OCIgcng9IjI0IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjZGRkIi8+CiAgPHRleHQgeD0iNDAiIHk9IjkwIiBjbGFzcz0idHlwZWZhY2UiPjMgZWdnczwvdGV4dD4KICA8dGV4dCB4PSIyMCIgeT0iMTQ1IiBjbGFzcz0idHlwZWZhY2UiPjIuIENsaWNrICdBZGQnOjwvdGV4dD4KICA8cmVjdCB4PSIyODUiIHk9IjYwIiB3aWR0aD0iOTUiIGhlaWdodD0iNDgiIHJ4PSIyNCIgZmlsbD0iIzQzMzhjYSIvPgogIDx0ZXh0IHg9IjMxMiIgeT0iOTAiIGNsYXNzPSJidG4tdGV4dCI+QWRkPC90ZXh0PgogIDx0ZXh0IHg9IjIwIiB5PSIxOTUiIGNsYXNzPSJ0eXBlZmFjZSI+My4gSXQncyBhZGRlZCB0byB5b3VyIGxpc3Q6PC90ZXh0PgogIDxyZWN0IHg9IjIwIiB5PSIyMTAiIHdpZHRoPSI5MCIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjZWVlYmZmIi8+CiAgPHRleHQgeD0iMzUiIHk9IjIzMSIgY2xhc3M9InR5cGVmYWNlIiBmaWxsPSIjNDMzOGNhIj4zIGVnZ3M8L3RleHQ+CiAgPHJlY3QgeD0iOTYiIHk9IjIxNSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiByeD0iMTEiIGZpbGw9IiNjN2M1ZjAiLz4KICA8dGV4dCB4PSIxMDMiIHk9IjIzMSIgZmlsbD0iIzQzMzhjYSIgZm9udC1zaXplPSIyMHB4Ij7DlzwvdGV4dD4KICA8cGF0aCBkPSJNMzMyIDExMEwzMzIgMTYwQzMzMiAxNzAgMzIyIDE4MCAzMTIgMTgwTDEwNSAxODAiIGNsYXNzPSJhcnJvdyIvPgogIDxwb2x5bGluZSBwb2ludHM9Ijk1IDI4MCwxMDUgMTgwLDExNSAyODAiIGNsYXNzPSJhcnJvdyIvPgo8L3N2Zz4=',
    save: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDQwMCAyNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC50eXBlZmFjZSB7IGZvbnQtZmFtaWx5OiBTeXN0ZW0tVWk7IGZvbnQtc2l6ZTogMTZweDsgfQogICAgICAuc21hbGwtdGV4dCB7IGZvbnQtc2l6ZTogMTRweDsgZmlsbDogIzY2NjsgfQogICAgICAuYnRuLXRleHQgeyBmb250LXdlaWdodDogNjAwOyBmaWxsOiB3aGl0ZTsgfQogICAgICAuYXJyb3cgeyBzdHJva2U6ICNlZjQ0NGY7IHN0cm9rZS13aWR0aDogM3B4OyBmaWxsOiBub25lOyBzdHJva2UtbGluZWNhcDogcm91bmQ7IHN0cm9rZS1saW5lam9pbjogcm91bmQ7IGFuaW1hdGlvbjogZGFzaCAwLjVzIGVhc2UtaW4tb3V0IGlufGVyYXRlO2RhbmltYXRpb24tZHVyYXRpb246IDJzOyB9CiAgICAgIC5jb25maXJtLXRleHQgeyBmb250LXNpemU6IDE0cHg7IGZpbGw6ICM0NDQ7IGFuaW1hdGlvbjogZmFkZUluIDFzIGVhc2UtaW47IH0KICAgICAgQGtleWZyYW1lcyBkYXNoIHsgZnJvbSB7IHN0cm9rZS1kYXNoYXJyYXk6IDUwMDsgc3Ryb2tlLWRhc2hvZmZzZXQ6IDUwMDsgfSB0byB7IHN0cm9rZS1kYXNoYXJyYXk6IDUwMDsgc3Ryb2tlLWRhc2hvZmZzZXQ6IDA7IH0gfQogICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7IGZyb20geyBvcGFjaXR5OiAwOyB9IHRvIHsgb3BhY2l0eTogMTsgfSB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmFmYWZhIi8+CiAgPHRleHQgeD0iMjAiIHk9IjQ1IiBjbGFzcz0idHlwZWZhY2UiPjEuIENsaWNrICdTYXZlIEluZ3JlZGllbnRzJzo8L3RleHQ+CiAgPHJlY3QgeD0iMjAiIHk9IjYwIiB3aWR0aD0iMTgwIiBoZWlnaHQ9IjQ4IiByeD0iMjQiIGZpbGw9IiMyMmMyNWQiLz4KICA8dGV4dCB4PSI0NSIgeT0iOTAiIGNsYXNzPSJidG4tdGV4dCI+U2F2ZSBJbmdyZWRpZW50czwvdGV4dD4KICA8cmVjdCB4PSIyMTAiIHk9IjYwIiB3aWR0aD0iMTMwIiBoZWlnaHQ9IjQ4IiByeD0iMjQiIGZpbGw9IiM4ODg4ODgiLz4KICA8dGV4dCB4PSIyNDAiIHk9IjkwIiBjbGFzcz0iYnRuLXRleHQiPkxvYWQgU2F2ZWQ8L3RleHQ+CiAgPHRleHQgeD0iMjAiIHk9IjE0NSIgY2xhc3M9InR5cGVmYWNlIj4yLiBDb25maXJtYXRpb24gYXBwZWFyczo8L3RleHQ+CiAgPHJlY3QgeD0iMjAiIHk9IjE2MCIgd2lkdGg9IjM2MCIgaGVpZ2h0PSIzMCIgcng9IjE1IiBmaWxsPSIjZWFmYWRjIi8+CiAgPHRleHQgeD0iMzUiIHk9IjE4MCIgY2xhc3M9ImNvbmZpcm0tdGV4dCI+U2F2ZWQgMyBpbmdyZWRpZW50cy4gKEFwciAxMiwgMjAyNSk8L3RleHQ+CiAgPHBhdGggZD0iTTEwNSAxMTBMMTA1IDEzNUwxMDQgMTQ1IiBjbGFzcz0iYXJyb3ciLz4KICA8cG9seWxpbmUgcG9pbnRzPSI5NCAxNTAsMTA0IDE0NSwxMTQgMTUwIiBjbGFzcz0iYXJyb3ciLz4KPC9zdmc+',
    load: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDQwMCAyNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC50eXBlZmFjZSB7IGZvbnQtZmFtaWx5OiBTeXN0ZW0tVWk7IGZvbnQtc2l6ZTogMTZweDsgfQogICAgICAuYnRuLXRleHQgeyBmb250LXdlaWdodDogNjAwOyBmaWxsOiB3aGl0ZTsgfQogICAgICAuYXJyb3cgeyBzdHJva2U6ICNlZjQ0NGY7IHN0cm9rZS13aWR0aDogM3B4OyBmaWxsOiBub25lOyBzdHJva2UtbGluZWNhcDogcm91bmQ7IHN0cm9rZS1saW5lam9pbjogcm91bmQ7IH0KICAgICAgLmhpZ2hsaWdodCB7IGFuaW1hdGlvbjogZmFkZUdsYXJlIDEuNXMgZWFzZS1pbi1vdXQ7IH0KICAgICAgQGtleWZyYW1lcyBmYWRlR2xhcmUgeyAwJSwgMTAwJSB7IG9wYWNpdHk6IDAuMzsgfSA1MCUgeyBvcGFjaXR5OiAxOyB9IH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmYWZhZmEiLz4KICA8dGV4dCB4PSIyMCIgeT0iNDUiIGNsYXNzPSJ0eXBlZmFjZSI+MS4gQ2xpY2sgJ0xvYWQgU2F2ZWQnOjwvdGV4dD4KICA8cmVjdCB4PSIyMCIgeT0iNjAiIHdpZHRoPSIxMzAiIGhlaWdodD0iNDgiIHJ4PSIyNCIgZmlsbD0iIzM0ZDMyYyIvPgogIDx0ZXh0IHg9IjUwIiB5PSI5MCIgY2xhc3M9ImJ0bi1tZXh0Ij5Mb2FkIFNhdmVkPC90ZXh0PgogIDx0ZXh0IHg9IjIwIiB5PSIxNDUiIGNsYXNzPSJ0eXBlZmFjZSI+Mi4gTGlzdCB1cGRhdGVzICYgZmxhc2hlczo8L3RleHQ+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwgMTUwKSI+CiAgICA8cmVjdCB4PSIyMCIgeT0iMTAiIHdpZHRoPSI5MCIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjZWVlYmZmIi8+CiAgICA8dGV4dCB4PSIzNSIgeT0iMzEiIGNsYXNzPSJ0eXBlZmFjZSIgZmlsbD0iIzQzMzhjYSI+MyBlZ2dzPC90ZXh0PgogICAgPHJlY3QgeD0iOTYiIHk9IjE1IiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHJ4PSIxMSIgZmlsbD0iI2M3YzVmMCIvPgogICAgPHJlY3QgeD0iMTIwIiB5PSIxMCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjZWVlYmZmIi8+CiAgICA8dGV4dCB4PSIxMzUiIHk9IjMxIiBjbGFzcz0idHlwZWZhY2UiIGZpbGw9IiM0MzM4Y2EiPjEgY3VwIGZsb3VyPC90ZXh0PgogICAgPHJlY3QgeD0iMjE2IiB5PSIxNSIgd2lkdGg9IjIyIiBoZWlnaHQ9IjIyIiByeD0iMTEiIGZpbGw9IiNjN2M1ZjAiLz4KICAgIDxyZWN0IHdpZHRoPSIzODgiIGhlaWdodD0iNTIiIHg9IjYiIHk9IjIiIHN0cm9rZT0iIzQzMzhjYSIgc3Ryb2tlLXdpZHRoPSI0IiByeD0iMjYiIGZpbGw9Im5vbmUiIGNsYXNzPSJoaWdobGlnaHQiIHN0cm9rZS1kYXNoYXJyYXk9IjE1IDIwIi8+CiAgPC9nPgogIDxwYXRoIGQ9Ik04NSAxMTBMODUgMTU1IiBjbGFzcz0iYXJyb3ciLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3NSAxNDUsODUgMTU1LDk1IDE0NSIgY2xhc3M9ImFycm93Ii8+Cjwvc3ZnPg==',
    generate: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDQwMCAyNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC50eXBlZmFjZSB7IGZvbnQtZmFtaWx5OiBTeXN0ZW0tVWk7IGZvbnQtc2l6ZTogMTZweDsgfQogICAgICAuYnRuLXRleHQgeyBmb250LXdlaWdodDogNjAwOyBmaWxsOiB3aGl0ZTsgfQogICAgICAuYXJyb3cgeyBzdHJva2U6ICNlZjQ0NGY7IHN0cm9rZS13aWR0aDogM3B4OyBmaWxsOiBub25lOyBzdHJva2UtbGluZWNhcDogcm91bmQ7IHN0cm9rZS1saW5lam9pbjogcm91bmQ7IH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmYWZhZmEiLz4KICA8dGV4dCB4PSIyMCIgeT0iNDUiIGNsYXNzPSJ0eXBlZmFjZSI+MS4gV2hlbiByZWFkeSwgY2xpY2s6PC90ZXh0PgogIDxyZWN0IHg9IjUwIiB5PSI3MCIgd2lkdGg9IjMwMCIgaGVpZ2h0PSI2MCIgcng9IjMwIiBmaWxsPSIjNDMzOGNhIi8+CiAgPHRleHQgeD0iMTE1IiB5PSIxMDgiIGNsYXNzPSJidG4tdGV4dCIgc3R5bGU9ImZvbnQtc2l6ZTogMjJweDsiPkdlbmVyYXRlIFJlY2lwZTwvdGV4dD4KICA8dGV4dCB4PSIyMCIgeT0iMTc1IiBjbGFzcz0idHlwZWZhY2UiPjIuIFdhaXQgZm9yIHRoZSBBSScgbWFnaWMhPC90ZXh0PgogIDx0ZXh0IHg9IjIwIiB5PSIyMDUiIGNsYXNzPSJ0eXBlZmFjZSIgc3R5bGU9ImZpbGw6ICM2NjY7Ij5BIGN1c3RvbSByZWNpcGUgYW5kIHBob3RvCiAgICB3aWxsIGFwcGVhciBiZWxvdy48L3RleHQ+CiAgPHBhdGggZD0iTTIwMCAxNDBMMjAwIDE4MCIgY2xhc3M9ImFycm93Ii8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTkwIDE3MCwyMDAgMTgwLDIxMCAxNzEiIGNsYXNzPSJhcnJvdyIvPgo8L3N2Zz4=',
    dark: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDQwMCAyNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC50eXBlZmFjZSB7IGZvbnQtZmFtaWx5OiBTeXN0ZW0tVWk7IGZvbnQtc2l6ZTogMTZweDsgfQogICAgICAuYXJyb3cgeyBzdHJva2U6ICNlZjQ0NGY7IHN0cm9rZS13aWR0aDogM3B4OyBmaWxsOiBub25lOyBzdHJva2UtbGluZWNhcDogcm91bmQ7IHN0cm9rZS1saW5lam9pbjogcm91bmQ7IH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNmYWZhZmEiLz4KICA8cmVjdCB4PSIyMCIgeT0iMjAiIHdpZHRoPSIzNjAiIGhlaWdodD0iNzIiIGZpbGw9IndoaXRlIiBzdHJva2U=
}